(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"0mXQ":function(e,t,a){"use strict";a.r(t);var l=a("0Owb"),n=a("q1tI"),r=a.n(n),i=(a("B2uJ"),a("+su7"),a("qOys"),a("5Yjd")),c=a.n(i),o=r.a.memo((function(){var e=a("3PQu"),t=a("K+nK");a("+L6B");var l=t(a("2/Rp")),n=t(a("tJVT")),i=e(a("q1tI")),c=(a("gdfu"),a("7RL8")),o=function(){var e=(0,i.useState)(!1),t=(0,n["default"])(e,2),a=t[0],o=t[1];return r.a.createElement("div",null,r.a.createElement(l["default"],{type:"primary",onClick:function(){return o(!a)}},"\u6253\u5f00\u5f39\u7a97"),r.a.createElement(c.FilePreview,{visible:a,fileList:[{id:1,url:"https://image6.znzmo.com/1593608377159_7422.jpeg"},{id:2,url:"https://image6.znzmo.com/1593588895201_45.jpeg"},{id:3,url:"https://image6.znzmo.com/1593605462122_2958.jpeg"},{id:4,url:"https://image6.znzmo.com/1593581430272_9899.jpeg"},{id:5,url:"https://image6.znzmo.com/1593618125973_7402.jpeg"},{id:6,url:"https://image6.znzmo.com/1593530565118_8687.jpeg"}],activeIndex:0,slideSize:4,onCancel:function(){return o(!a)}}))};return i["default"].createElement(o)}));t["default"]=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"markdown"},r.a.createElement("h2",{id:"filepreview"},r.a.createElement("a",{"aria-hidden":"true",href:"#filepreview"},r.a.createElement("span",{className:"icon icon-link"})),"FilePreview"),r.a.createElement("h3",{id:"\u6587\u4ef6\u9884\u89c8\u5f39\u7a97"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u6587\u4ef6\u9884\u89c8\u5f39\u7a97"},r.a.createElement("span",{className:"icon icon-link"})),"\u6587\u4ef6\u9884\u89c8\u5f39\u7a97")),r.a.createElement(c.a,Object(l["a"])({source:{jsx:"import react, { useState } from 'react';\nimport { Button } from 'antd';\nimport { FilePreview } from 'dumi-lib';\n\nexport default () => {\n  const [visible, setVisible] = useState(false);\n  return (\n    <div>\n      <Button type=\"primary\" onClick={() => setVisible(!visible)}>\n        \u6253\u5f00\u5f39\u7a97\n      </Button>\n      <FilePreview\n        visible={visible}\n        fileList={[\n          { id: 1, url: 'https://image6.znzmo.com/1593608377159_7422.jpeg' },\n          { id: 2, url: 'https://image6.znzmo.com/1593588895201_45.jpeg' },\n          { id: 3, url: 'https://image6.znzmo.com/1593605462122_2958.jpeg' },\n          { id: 4, url: 'https://image6.znzmo.com/1593581430272_9899.jpeg' },\n          { id: 5, url: 'https://image6.znzmo.com/1593618125973_7402.jpeg' },\n          { id: 6, url: 'https://image6.znzmo.com/1593530565118_8687.jpeg' },\n        ]}\n        activeIndex={0}\n        slideSize={4}\n        onCancel={() => setVisible(!visible)}\n      />\n    </div>\n  );\n};"}},{title:"\u57fa\u672c\u4f7f\u7528",desc:'<div class="markdown"><p>\u6839\u636e\u4f20\u5165\u7684fileList\uff0c\u5f39\u7a97\u5c55\u793a\u56fe\u7247\u8f6e\u64ad</p></div>',dependencies:{antd:"3.26.16","dumi-lib":"2.0.01"},files:{}}),r.a.createElement(o,null)),r.a.createElement("div",{className:"markdown"},r.a.createElement("h3",{id:"\u7ec4\u4ef6\u53c2\u6570"},r.a.createElement("a",{"aria-hidden":"true",href:"#\u7ec4\u4ef6\u53c2\u6570"},r.a.createElement("span",{className:"icon icon-link"})),"\u7ec4\u4ef6\u53c2\u6570"),r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",{align:"left"},"\u53c2\u6570"),r.a.createElement("th",{align:"left"},"\u8bf4\u660e"),r.a.createElement("th",{align:"center"},"\u7c7b\u578b"),r.a.createElement("th",{align:"center"},"\u9ed8\u8ba4\u503c"),r.a.createElement("th",{align:"center"},"\u5fc5\u586b"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"visible"),r.a.createElement("td",{align:"left"},"\u53ef\u89c1\u6027"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"boolean")),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"false")),r.a.createElement("td",{align:"center"},"\u662f")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"fileList"),r.a.createElement("td",{align:"left"},"\u6587\u4ef6\u5217\u8868"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"array")),r.a.createElement("td",{align:"center"},"--"),r.a.createElement("td",{align:"center"},"\u662f")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"activeIndex"),r.a.createElement("td",{align:"left"},"\u521d\u59cb\u4e0b\u6807"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"number")),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"0")),r.a.createElement("td",{align:"center"},"\u5426")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"slideSize"),r.a.createElement("td",{align:"left"},"\u7f29\u7565\u56fe\u6bcf\u5c4f\u4e2a\u6570"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"number")),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"4")),r.a.createElement("td",{align:"center"},"\u5426")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"onOk"),r.a.createElement("td",{align:"left"},"\u540c",r.a.createElement("code",null,"antd"),"\u7684",r.a.createElement("code",null,"modal"),"\u5c5e\u6027"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"function")),r.a.createElement("td",{align:"center"},"--"),r.a.createElement("td",{align:"center"},"\u5426")),r.a.createElement("tr",null,r.a.createElement("td",{align:"left"},"onCancel"),r.a.createElement("td",{align:"left"},"\u540c",r.a.createElement("code",null,"antd"),"\u7684",r.a.createElement("code",null,"modal"),"\u5c5e\u6027"),r.a.createElement("td",{align:"center"},r.a.createElement("code",null,"function")),r.a.createElement("td",{align:"center"},"--"),r.a.createElement("td",{align:"center"},"\u5426"))))))}},"7RL8":function(e,t,a){"use strict";a.r(t),a.d(t,"DynamicForm",(function(){return N})),a.d(t,"FilePreview",(function(){return j})),a.d(t,"WaterMask",(function(){return V}));a("+L6B");var l=a("2/Rp"),n=(a("14J3"),a("BMrR")),r=(a("jCWc"),a("kPKH")),i=(a("y8nQ"),a("Vl3Y")),c=(a("5NDa"),a("5rEg")),o=a("0Owb"),s=(a("iQDF"),a("+eQT")),m=(a("OaEy"),a("2fM7")),d=a("q1tI"),u=a.n(d),p=a("17x9"),h=a.n(p),E=a("wy2R"),f=a.n(E),g=a("NwFN"),y=a.n(g),v=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,a=null;return function(){null!==a&&clearTimeout(a),a=setTimeout(()=>e.apply(this,arguments),t)}},b=m["a"].Option,k=s["a"].RangePicker;class w extends d["PureComponent"]{constructor(){super(...arguments),this.state={open:!1},this.createFormItem=()=>{var e=this.props,t=e.items,a=e.limit,l=e.form.getFieldDecorator,n=this.state.open,r=a&&!n?t.slice(0,a):t;return r.map((e,t)=>{var a=e.type,n=e.label,r=e.options,i=e.formEleOptions,c=e.selectValueKey,o=e.selectLabelKey,s=e.formItemLayout;e.options=r||{},e.formEleOptions=i||{},e.getFieldDecorator=l,e.formItemLayout=s||{labelCol:{span:4},wrapperCol:{span:20}};var m=e.options.initialValue;switch(a){case"input":return e.placeholder="\u8bf7\u8f93\u5165".concat(n),this.createInput(e,t);case"select":return e.placeholder="\u8bf7\u9009\u62e9".concat(n),e.selectValueKey=c||"id",e.selectLabelKey=o||"name",this.createSelect(e,t);case"datepicker":if(e.placeholder="\u8bf7\u9009\u62e9".concat(n),m)try{e.options.initialValue=f.a.isMoment(m)?m:f()(m)}catch(d){throw e.options.initialValue=void 0,d}return this.createDatepicker(e,t);case"rangepicker":return m&&("[object Array]"===Object.prototype.toString.call(m)?e.options.initialValue=m.map(e=>{var t;try{t=f.a.isMoment(e)?e:f()(e)}catch(d){t=null}return t}):e.options.initialValue=null),e.placeholder=["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],this.createRangepicker(e,t);default:break}})},this.createInput=(e,t)=>{var a=e.key,l=e.label,n=e.options,s=e.placeholder,m=e.getFieldDecorator,d=e.formEleOptions,p=e.formItemLayout;return u.a.createElement(r["a"],{span:8,key:t},u.a.createElement(i["a"].Item,Object(o["a"])({},p,{label:l}),m(a,n)(u.a.createElement(c["a"],Object(o["a"])({placeholder:s},d)))))},this.createSelect=(e,t)=>{var a=e.key,l=e.label,n=e.options,c=e.placeholder,s=e.list,d=void 0===s?[]:s,p=e.selectValueKey,h=e.selectLabelKey,E=e.getFieldDecorator,f=e.formEleOptions,g=e.formItemLayout;return u.a.createElement(r["a"],{span:8,key:t},u.a.createElement(i["a"].Item,Object(o["a"])({},g,{label:l}),E(a,n)(u.a.createElement(m["a"],Object(o["a"])({placeholder:c},f),d.map((e,t)=>u.a.createElement(b,{key:t,value:e[p]},e[h]))))))},this.createDatepicker=(e,t)=>{var a=e.key,l=e.label,n=e.options,c=e.placeholder,m=e.getFieldDecorator,d=e.formEleOptions,p=e.formItemLayout;return u.a.createElement(r["a"],{span:8,key:t},u.a.createElement(i["a"].Item,Object(o["a"])({},p,{label:l}),m(a,n)(u.a.createElement(s["a"],Object(o["a"])({placeholder:c},d)))))},this.createRangepicker=(e,t)=>{var a=e.key,l=e.label,n=e.options,c=e.placeholder,s=e.getFieldDecorator,m=e.formEleOptions,d=e.formItemLayout;return u.a.createElement(r["a"],{span:8,key:t},u.a.createElement(i["a"].Item,Object(o["a"])({},d,{label:l}),s(a,n)(u.a.createElement(k,Object(o["a"])({placeholder:c},m)))))},this.onSubmit=e=>{var t=this.props,a=t.form.validateFields,l=t.getFieldsValue;e.preventDefault(),a((e,t)=>{e||l&&l(t)})},this.handleReset=()=>{var e=this.props,t=e.form.resetFields,a=e.getFieldsValue;t(),a&&a({})},this.toggle=()=>this.setState({open:!this.state.open})}componentDidMount(){}render(){var e=this.state.open;return u.a.createElement(i["a"],{onSubmit:this.onSubmit,className:y.a.dynamicForm},u.a.createElement(n["a"],{className:"dynamicForm_row"},this.createFormItem()),u.a.createElement(n["a"],{className:"dynamicForm_row"},u.a.createElement(r["a"],{span:24,style:{textAlign:"right"}},u.a.createElement(l["default"],{type:"primary",htmlType:"submit"},"\u641c\u7d22"),u.a.createElement(l["default"],{type:"primary",style:{marginLeft:8},onClick:this.handleReset},"\u91cd\u7f6e"),u.a.createElement(l["default"],{type:"default",style:{marginLeft:8},onClick:this.toggle,className:y.a.test},e?"\u6536\u8d77":"\u5c55\u5f00"))))}}var C=void 0,z=i["a"].create({onValuesChange:(e,t,a)=>{C?C(t,a):C=v(e.onValuesChange)}})(w);z.propTypes={limit:h.a.number.isRequired,items:h.a.array.isRequired,getFieldsValue:h.a.func,onValuesChange:h.a.func},z.defaultProps={items:[],limit:3,onValuesChange:()=>{}};var N=z,x=(a("2qtc"),a("kLXV")),F=(a("fV52"),a("3I+P")),S=(a("Pwec"),a("CtXQ"));a("g7QV");class I extends d["Component"]{constructor(e){super(e),this.slickPrev=()=>{this.carousel1.prev()},this.slickNext=()=>{this.carousel1.next()},this.slickGoTo=e=>{this.carousel1.goTo(e)},this.isPdf=e=>e.endsWith(".pdf"),this.operateBtn=e=>{switch(this.ele=document.querySelectorAll(".slick-active.slick-current")[0],e){case"reset":this.scale=1,this.rotate=0;break;case"in":this.scale*=1.1;break;case"out":this.scale*=.9;break;case"rotate":this.rotate+=90;break;default:break}this.ele.style.transform="scale(".concat(this.scale,") rotate(").concat(this.rotate,"deg)")},this.beforeChange=(e,t)=>{this.carousel2.goTo(t)},this.afterChange=()=>{this.ele&&(this.ele.style.transform="scale(1) rotate(0deg)")},this.rotate=0,this.scale=1}componentWillUnmount(){this.ele=null}render(){var e=this.props,t=e.visible,a=e.fileList,n=e.activeIndex,r=e.slideSize,i=a.length>r,c=[...a];return u.a.createElement(x["a"],{title:"\u6587\u4ef6\u9884\u89c8",visible:t,onOk:this.props.onOk,onCancel:this.props.onCancel,footer:null,width:998,destroyOnClose:!0},u.a.createElement("div",{className:"carousel-box"},u.a.createElement("div",{className:"toolbtns"},u.a.createElement(l["default"],{type:"default",onClick:()=>this.operateBtn("reset")},"\u91cd\u7f6e"),u.a.createElement(l["default"],{onClick:()=>this.operateBtn("in"),title:"\u653e\u5927",className:"icon",type:"default"},u.a.createElement(S["a"],{type:"zoom-in"})),u.a.createElement(l["default"],{onClick:()=>this.operateBtn("out"),className:"icon",title:"\u7f29\u5c0f",type:"default"},u.a.createElement(S["a"],{type:"zoom-out"})),u.a.createElement(l["default"],{onClick:()=>this.operateBtn("rotate"),className:"icon",title:"\u65cb\u8f6c",type:"default"},u.a.createElement(S["a"],{type:"reload"}))),u.a.createElement(S["a"],{onClick:this.slickPrev,className:"carousel-arrow arrow-left",type:"left"}),u.a.createElement(S["a"],{onClick:this.slickNext,className:"carousel-arrow arrow-right",type:"right"}),u.a.createElement("div",{className:"carousel"},u.a.createElement(F["a"],{ref:e=>this.carousel1=e,arrows:!1,initialSlide:n,dots:!1,beforeChange:this.beforeChange,afterChange:this.afterChange},a.map((e,t)=>u.a.createElement("div",{key:t,className:"carousel-item-box"},u.a.createElement("div",{className:"flexbox"},this.isPdf(e.src||e.url)?u.a.createElement("a",{href:e.src||e.url,target:"_blank",rel:"noopener noreferrer"},u.a.createElement(S["a"],{type:"file-pdf",className:"pdf"})):u.a.createElement("img",{src:e.src||e.url,alt:""}))))))),u.a.createElement("div",{className:"carousel-box"},i?u.a.createElement(S["a"],{onClick:this.slickPrev,className:"carousel-arrow arrow-left",type:"left"}):null,i?u.a.createElement(S["a"],{onClick:this.slickNext,className:"carousel-arrow arrow-right",type:"right"}):null,u.a.createElement("div",{className:"carousel"},u.a.createElement(F["a"],{ref:e=>this.carousel2=e,arrows:!1,initialSlide:n,slidesToShow:r,dots:!1},c.map((e,t)=>u.a.createElement("div",{key:t,className:"carousel-item-box",onClick:()=>this.slickGoTo(t)},this.isPdf(e.src||e.url)?u.a.createElement(S["a"],{type:"file-pdf",className:"pdf"}):u.a.createElement("img",{src:e.src||e.url,alt:""})))))))}}I.defaultProps={visible:!1,fileList:[],activeIndex:0,slideSize:4,onOk:()=>{},onCancel:()=>{}};var j=I,O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return e.replace(/[\u0391-\uFFE5]/g,"aa").length/2};class L extends d["Component"]{constructor(e){super(e),this.renderWaterMark=()=>{var e=this.props,t=e.textStyle,a=e.body,l=e.str,n=e.fontSize,r=e.summary,i=e.rotate,c=e.width,o=(e.height,t||"rgba(97, 97, 97,0.2)"),s=document.createElement("canvas"),m=document.querySelector(a);m.style.position="relative";var d=O(l),u=c||d*n,p=i?u*Math.abs(Math.sin(i*Math.PI/180)):n;s.width=u+n,s.height=p+n;var h=s.getContext("2d"),E=s.width/2,f=s.height/2;h.translate(E,f),h.rotate(Math.PI/180*i),h.font="".concat(n,"px Source Han Sans CN"),h.textAlign="center",h.textBaseline="middle",h.fillStyle=o,h.fillText(l,0,0),r&&h.fillText(r,0,n),h.translate(-E,-f),this.setState({url:s.toDataURL("image/png")})},this.state={url:""}}componentDidMount(){this.renderWaterMark()}render(){var e=this.state.url,t=void 0===e?"":e;return u.a.createElement("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",zIndex:1e3,pointerEvents:"none",backgroundRepeat:"repeat",backgroundImage:"url(".concat(t,")")}})}}L.defaultProps={body:"body",str:"",rotate:"",width:"",height:"",fontSize:"40px",textStyle:""};var V=L},NwFN:function(e,t,a){e.exports={dynamicForm:"dynamicForm___9yx1z",test:"test___QL-5h"}},g7QV:function(e,t,a){}}]);